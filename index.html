<!doctype html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>格闘ゲーム用タスク管理ツール</title>
    <link rel="stylesheet" href="./style.css" />
  </head>
  <body>
    <main class="app">
      <header class="app-header">
        <button id="menu-btn" class="menu-btn" type="button" aria-label="メニュー" aria-expanded="false">☰</button>
        <button id="list-switch-btn" class="list-switch-btn" type="button" aria-label="タスクリストを切り替え"></button>
        <div id="menu-popover" class="menu-popover is-hidden" role="menu" aria-label="データ管理メニュー">
          <button id="export-btn" class="menu-item-btn" type="button" role="menuitem">データをエクスポート</button>
          <button id="import-btn" class="menu-item-btn" type="button" role="menuitem">データをインポート</button>
        </div>
      </header>

      <nav class="tabs" aria-label="タスク表示切替">
        <div class="tabs-main">
          <button id="tab-active" class="tab is-active" type="button" aria-selected="true">アクティブ</button>
          <button id="tab-done" class="tab" type="button" aria-selected="false">完了</button>
        </div>
        <button
          id="reorder-toggle-btn"
          class="reorder-toggle-btn"
          type="button"
          aria-pressed="false"
          aria-label="タスクの順序入れ替えモード"
        >
          順序入れ替え
        </button>
      </nav>

      <p id="reorder-help" class="reorder-help is-hidden">順序入れ替え中です。タスクの右端ハンドルをドラッグしてください。</p>

      <section id="panel-active" class="panel" aria-labelledby="tab-active">
        <ul id="active-list" class="task-list"></ul>
        <p id="active-empty" class="empty">タスクがありません。右下の + から追加しましょう。</p>
      </section>

      <section id="panel-done" class="panel is-hidden" aria-labelledby="tab-done">
        <ul id="done-list" class="task-list"></ul>
        <p id="done-empty" class="empty">完了タスクはありません。</p>
      </section>
    </main>

    <button id="fab-add" class="fab" type="button" aria-label="タスクを追加">＋</button>

    <div id="sheet-backdrop" class="sheet-backdrop is-hidden" aria-hidden="true"></div>
    <section id="add-sheet" class="add-sheet is-hidden" aria-label="タスク追加シート">
      <h2>タスクを追加</h2>
      <label for="sheet-task-title">タスク名</label>
      <input id="sheet-task-title" type="text" placeholder="例: ダウンが取れるコンボ10回" />
      <p id="sheet-task-error" class="error is-hidden" role="alert">タスク名を入力してください。</p>
      <div class="sheet-actions">
        <button id="sheet-cancel" type="button">キャンセル</button>
        <button id="sheet-submit" class="btn-primary" type="button">追加</button>
      </div>
    </section>

    <section id="list-sheet" class="add-sheet is-hidden" aria-label="タスクリスト管理シート">
      <h2>タスクリストを切り替え</h2>
      <label for="list-name-input">リスト名</label>
      <div class="list-create-row">
        <input id="list-name-input" type="text" placeholder="例: SF6 / リュウ" />
        <button id="list-create-btn" class="btn-primary" type="button">作成</button>
      </div>
      <p id="list-error" class="error is-hidden" role="alert">リスト名を入力してください。</p>
      <ul id="list-items" class="list-items"></ul>
    </section>

    <div id="toast" class="toast is-hidden" role="status" aria-live="polite"></div>
    <p id="live-region" class="sr-only" aria-live="polite" aria-atomic="true"></p>
    <input id="import-file-input" type="file" accept="application/json,.json" class="sr-only" />

    <script type="module" src="./src/ui/app.js"></script>
  </body>
</html>
